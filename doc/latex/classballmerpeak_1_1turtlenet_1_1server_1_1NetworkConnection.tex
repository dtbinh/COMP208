\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection}{\subsection{ballmerpeak.\-turtlenet.\-server.\-Network\-Connection Class Reference}
\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection}\index{ballmerpeak.\-turtlenet.\-server.\-Network\-Connection@{ballmerpeak.\-turtlenet.\-server.\-Network\-Connection}}
}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_ae7c0317cc0fa85bc885799436affb5e6}{Network\-Connection} (String serverurl)
\begin{DoxyCompactList}\small\item\em Construct a network connection that connects to the given U\-R\-L. \end{DoxyCompactList}\item 
void \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a44b870f7d418ce3ab69587e94ce32a74}{run} ()
\begin{DoxyCompactList}\small\item\em Used for constructing a network thread. \end{DoxyCompactList}\item 
void \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a1bb312cc4af1b95710ecd9b65c5215ce}{close} ()
\begin{DoxyCompactList}\small\item\em Shutdown the network connection. \end{DoxyCompactList}\item 
Boolean \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aadf8e9595cea4dadbb82355e58ba72ec}{has\-Message} ()
\begin{DoxyCompactList}\small\item\em Checks for new messages. \end{DoxyCompactList}\item 
String \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a5b9adc8fa4dee623cc1d1c33ccaa7846}{get\-Message} ()
\begin{DoxyCompactList}\small\item\em Get a message. \end{DoxyCompactList}\item 
long \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adc4c65f1c818d16a6abd8ace93bf0047}{get\-Time} ()
\begin{DoxyCompactList}\small\item\em Get the server time. \end{DoxyCompactList}\item 
boolean \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adde42c7caa6295080ba05a66f4bb9ad3}{post\-Message} (\hyperlink{classballmerpeak_1_1turtlenet_1_1shared_1_1Message}{Message} msg, Public\-Key recipient)
\begin{DoxyCompactList}\small\item\em Post a Message object over the network. \end{DoxyCompactList}\item 
Boolean \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a023c16ede7a0c0175e31a937823fbc8f}{claim\-Name} (String name)
\begin{DoxyCompactList}\small\item\em Claims a username on the network. \end{DoxyCompactList}\item 
void \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa13cfceaafe089d920b79b877a5b810c}{download\-New\-Messages} ()
\begin{DoxyCompactList}\small\item\em Download new messages. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
Vector$<$ String $>$ \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a117a5b525dfb1a2e03ed10ce9adaed77}{server\-Cmd} (String cmd)
\begin{DoxyCompactList}\small\item\em Send a command to the server. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a4586970fdb2b8223360db3464bda5526}{String {\bfseries url}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a4586970fdb2b8223360db3464bda5526}

\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa9ff41ab125a57c5e8465a2b3a6da971}{final int \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa9ff41ab125a57c5e8465a2b3a6da971}{port} = 31415}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa9ff41ab125a57c5e8465a2b3a6da971}

\begin{DoxyCompactList}\small\item\em Pi is awesome. \end{DoxyCompactList}\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a477f742ecdd3902fb26a4292f760b163}{Vector$<$ String $>$ {\bfseries messages}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a477f742ecdd3902fb26a4292f760b163}

\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a6bee33347e456d6f94d08df8f407e637}{long {\bfseries last\-Read}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a6bee33347e456d6f94d08df8f407e637}

\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_af895a5014e7217db08f6444247064938}{boolean {\bfseries connected}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_af895a5014e7217db08f6444247064938}

\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a6ffbe477a10b675006dbcc18dbf72909}{boolean {\bfseries tor}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a6ffbe477a10b675006dbcc18dbf72909}

\item 
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_af9588f9c66266d7aacadce9b0351a177}{Semaphore {\bfseries message\-Lock}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_af9588f9c66266d7aacadce9b0351a177}

\end{DoxyCompactItemize}


\subsubsection{Detailed Description}


Definition at line 11 of file Network\-Connection.\-java.



\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_ae7c0317cc0fa85bc885799436affb5e6}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!Network\-Connection@{Network\-Connection}}
\index{Network\-Connection@{Network\-Connection}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{Network\-Connection}]{\setlength{\rightskip}{0pt plus 5cm}ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-Network\-Connection (
\begin{DoxyParamCaption}
\item[{String}]{serverurl}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_ae7c0317cc0fa85bc885799436affb5e6}


Construct a network connection that connects to the given U\-R\-L. 


\begin{DoxyParams}{Parameters}
{\em serverurl} & The U\-Rl to connect to. \\
\hline
\end{DoxyParams}


Definition at line 15 of file Network\-Connection.\-java.



\subsubsection{Member Function Documentation}
\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a023c16ede7a0c0175e31a937823fbc8f}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!claim\-Name@{claim\-Name}}
\index{claim\-Name@{claim\-Name}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{claim\-Name}]{\setlength{\rightskip}{0pt plus 5cm}Boolean ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-claim\-Name (
\begin{DoxyParamCaption}
\item[{String}]{name}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a023c16ede7a0c0175e31a937823fbc8f}


Claims a username on the network. 

Usernames must be unique, this is enforced by the server. Thread safe. \begin{DoxyWarning}{Warning}
Extant usernames are considered public information. This is the only plaintext sent in the system. 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em name} & The name to claim. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if succes, false otherwsie. 
\end{DoxyReturn}


Definition at line 153 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a1bb312cc4af1b95710ecd9b65c5215ce}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!close@{close}}
\index{close@{close}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{close}]{\setlength{\rightskip}{0pt plus 5cm}void ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a1bb312cc4af1b95710ecd9b65c5215ce}


Shutdown the network connection. 

Saves the last time at which new messages were fetched to disk. Thread safe. 

Definition at line 56 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa13cfceaafe089d920b79b877a5b810c}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!download\-New\-Messages@{download\-New\-Messages}}
\index{download\-New\-Messages@{download\-New\-Messages}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{download\-New\-Messages}]{\setlength{\rightskip}{0pt plus 5cm}void ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-download\-New\-Messages (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aa13cfceaafe089d920b79b877a5b810c}


Download new messages. 

Automatically called every second by \hyperlink{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a44b870f7d418ce3ab69587e94ce32a74}{run()}. Thread safe. 

Definition at line 178 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a5b9adc8fa4dee623cc1d1c33ccaa7846}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!get\-Message@{get\-Message}}
\index{get\-Message@{get\-Message}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{get\-Message}]{\setlength{\rightskip}{0pt plus 5cm}String ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-get\-Message (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a5b9adc8fa4dee623cc1d1c33ccaa7846}


Get a message. 

Get the next message in the queue, and remove it from the queue. Thread safe. \begin{DoxyReturn}{Returns}
The oldest message in the stack of messages recieved. 
\end{DoxyReturn}


Definition at line 96 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adc4c65f1c818d16a6abd8ace93bf0047}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!get\-Time@{get\-Time}}
\index{get\-Time@{get\-Time}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{get\-Time}]{\setlength{\rightskip}{0pt plus 5cm}long ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-get\-Time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adc4c65f1c818d16a6abd8ace93bf0047}


Get the server time. 

Millisecond timestamps can, and have, been used to identify users. We therefore recomend always using server time. (Obviously other methods are in place to hide true network latency.) Thread safe. \begin{DoxyReturn}{Returns}
The number of milliseconds since midnight january first 1970, according to the server. 
\end{DoxyReturn}


Definition at line 117 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aadf8e9595cea4dadbb82355e58ba72ec}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!has\-Message@{has\-Message}}
\index{has\-Message@{has\-Message}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{has\-Message}]{\setlength{\rightskip}{0pt plus 5cm}Boolean ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-has\-Message (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_aadf8e9595cea4dadbb82355e58ba72ec}


Checks for new messages. 

Thread safe. \begin{DoxyReturn}{Returns}
returns true if a message is available, false otherwise 
\end{DoxyReturn}


Definition at line 79 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adde42c7caa6295080ba05a66f4bb9ad3}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!post\-Message@{post\-Message}}
\index{post\-Message@{post\-Message}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{post\-Message}]{\setlength{\rightskip}{0pt plus 5cm}boolean ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-post\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Message}}]{msg, }
\item[{Public\-Key}]{recipient}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_adde42c7caa6295080ba05a66f4bb9ad3}


Post a Message object over the network. 

Only viewable by recipitent. Thread safe. 
\begin{DoxyParams}{Parameters}
{\em recipient} & The person you are sending the message to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns true on success, false otherwise. 
\end{DoxyReturn}


Definition at line 134 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a44b870f7d418ce3ab69587e94ce32a74}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!run@{run}}
\index{run@{run}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{run}]{\setlength{\rightskip}{0pt plus 5cm}void ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a44b870f7d418ce3ab69587e94ce32a74}


Used for constructing a network thread. 

Fetches new messages every second. Thread safe. 

Definition at line 40 of file Network\-Connection.\-java.

\hypertarget{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a117a5b525dfb1a2e03ed10ce9adaed77}{\index{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}!server\-Cmd@{server\-Cmd}}
\index{server\-Cmd@{server\-Cmd}!ballmerpeak::turtlenet::server::NetworkConnection@{ballmerpeak\-::turtlenet\-::server\-::\-Network\-Connection}}
\paragraph[{server\-Cmd}]{\setlength{\rightskip}{0pt plus 5cm}Vector$<$String$>$ ballmerpeak.\-turtlenet.\-server.\-Network\-Connection.\-server\-Cmd (
\begin{DoxyParamCaption}
\item[{String}]{cmd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classballmerpeak_1_1turtlenet_1_1server_1_1NetworkConnection_a117a5b525dfb1a2e03ed10ce9adaed77}


Send a command to the server. 


\begin{DoxyParams}{Parameters}
{\em cmd} & The text to send to the server. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The servers response, one string per line, element 0 is the topmost (first) line sent by the server. 
\end{DoxyReturn}


Definition at line 200 of file Network\-Connection.\-java.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/ballmerpeak/turtlenet/server/Network\-Connection.\-java\end{DoxyCompactItemize}
